"""
Модуль для работы с картами таро
Полная колода из 78 карт
"""
import random
from typing import List, Tuple, Dict


# Полная колода таро из 78 карт
# 22 старших аркана + 56 младших арканов (4 масти × 14 карт)
TAROT_CARDS = {
    # Старшие арканы
    "Дурак": {
        "name": "Дурак",
        "upright": "Начало нового пути, свобода, спонтанность, приключения. Это время для того, чтобы рискнуть и довериться судьбе. Ты стоишь на пороге чего-то нового и удивительного. Не бойся сделать первый шаг, даже если путь неясен. Вселенная поддерживает тебя.",
        "reversed": "Импульсивность, риск без обдумывания, неопытность. Возможно, ты действуешь слишком поспешно, не учитывая последствий. Замедлись, подумай перед тем, как делать серьезные шаги. Сейчас важно взвесить все за и против."
    },
    "Маг": {
        "name": "Маг",
        "upright": "Воля, действие, концентрация, манифестация. У тебя есть все инструменты для достижения цели. Сфокусируйся на своих желаниях и действуй целенаправленно. Твоя воля сильна, используй ее мудро.",
        "reversed": "Манипуляция, плохая коммуникация, слабая воля. Возможно, ты не используешь свои ресурсы должным образом или пытаешься обмануть себя или других. Вернись к базовым принципам честности и ясности."
    },
    "Жрица": {
        "name": "Жрица",
        "upright": "Интуиция, внутреннее знание, тайны, женская мудрость. Доверься своей интуиции. Внутренний голос подскажет правильный путь. Иногда тишина и наблюдение лучше активных действий.",
        "reversed": "Отсутствие интуиции, секреты, оторванность. Возможно, ты игнорируешь свой внутренний голос или слишком замкнут. Постарайся найти баланс между внутренним миром и внешними действиями."
    },
    "Императрица": {
        "name": "Императрица",
        "upright": "Плодородие, красота, природа, изобилие, материнство. Период роста и процветания. Окружай себя красотой, заботься о себе и близких. Это время наслаждаться жизнью и благосостоянием.",
        "reversed": "Зависимость, чувственная жажда, бесплодие. Возможно, ты слишком сосредоточен на материальном и упускаешь духовное. Найди баланс между получением и отдачей."
    },
    "Император": {
        "name": "Император",
        "upright": "Структура, власть, дисциплина, порядок. Время действовать организованно и дисциплинированно. Установи четкие границы и следуй системе. Лидерство и ответственность приведут к успеху.",
        "reversed": "Тиран, чрезмерный контроль, жесткость. Возможно, ты слишком строг к себе или другим. Научись балансу между дисциплиной и гибкостью."
    },
    "Иерофант": {
        "name": "Иерофант",
        "upright": "Традиции, условности, духовность, религия. Важно следовать проверенным временем методам и учиться у мудрых наставников. Доверься традициям и ищи духовное руководство.",
        "reversed": "Личные верования, нетрадиционность, свобода от условностей. Возможно, пришло время освободиться от устаревших правил и найти свой уникальный путь."
    },
    "Влюбленные": {
        "name": "Влюбленные",
        "upright": "Любовь, отношения, выбор, гармония. Время принятия важных решений, особенно в личных отношениях. Прислушайся к сердцу, но не забывай про разум. Баланс между чувствами и логикой - ключ к правильному выбору.",
        "reversed": "Дисгармония, неправильный выбор, отсутствие баланса. Возможно, ты стоишь перед сложным выбором и не можешь определиться. Взвесь все варианты и прислушайся к внутреннему голосу."
    },
    "Колесница": {
        "name": "Колесница",
        "upright": "Успех, контроль, достижение, направление. Ты на правильном пути к успеху. Твоя сила воли и целеустремленность ведут к победе. Продолжай двигаться вперед с уверенностью.",
        "reversed": "Отсутствие направления, отсутствие контроля, агрессия. Возможно, тебе не хватает фокуса и контроля. Определи свои цели четче и следуй им последовательно."
    },
    "Сила": {
        "name": "Сила",
        "upright": "Внутренняя сила, терпение, контроль, сострадание. Твоя сила не в агрессии, а в спокойствии и терпении. Доброта и мягкость помогут преодолеть любые препятствия.",
        "reversed": "Слабость, неуверенность, недостаток силы воли. Возможно, ты чувствуешь себя слабым или не контролируешь ситуацию. Вспомни о своей внутренней силе и верь в себя."
    },
    "Отшельник": {
        "name": "Отшельник",
        "upright": "Поиск истины, самоанализ, уединение, мудрость. Время для самоанализа и поиска внутренних ответов. Уединение поможет найти мудрость и направление. Иногда нужно отступить, чтобы продвинуться вперед.",
        "reversed": "Одиночество, изоляция, растерянность. Возможно, ты слишком отстранен от мира. Найди баланс между самоанализом и взаимодействием с другими."
    },
    "Колесо Фортуны": {
        "name": "Колесо Фортуны",
        "upright": "Судьба, карма, циклы, поворот судьбы. Время перемен и новых возможностей. Цикл завершается и начинается новый. Прими изменения как часть жизни и будь открыт новому.",
        "reversed": "Неудача, блокировка, отсутствие контроля. Возможно, ты чувствуешь, что все выходит из-под контроля. Помни, что это временный период, и скоро ситуация изменится."
    },
    "Справедливость": {
        "name": "Справедливость",
        "upright": "Правда, справедливость, справедливость, ответственность. Время принимать справедливые решения. Каждое действие имеет последствия. Будь честен с собой и другими.",
        "reversed": "Несправедливость, вина, отсутствие ответственности. Возможно, ты избегаешь ответственности или чувствуешь несправедливость. Посмотри на ситуацию честно и прими необходимые меры."
    },
    "Повешенный": {
        "name": "Повешенный",
        "upright": "Жертва, освобождение, ожидание, подвешенность. Время ждать и созерцать. Иногда нужно отступить, чтобы продвинуться вперед. Новые перспективы придут через терпение.",
        "reversed": "Ожидание, откладывание, стагнация. Возможно, ты слишком долго застрял в ожидании. Пришло время действовать и двигаться вперед."
    },
    "Смерть": {
        "name": "Смерть",
        "upright": "Конец, трансформация, перерождение, переход. Время трансформации и новых начал. Что-то завершается, чтобы освободить место для нового. Прими изменения с благодарностью.",
        "reversed": "Сопротивление изменениям, стагнация, страх. Возможно, ты сопротивляешься необходимым изменениям. Будь открыт к трансформации и отпусти старое."
    },
    "Умеренность": {
        "name": "Умеренность",
        "upright": "Баланс, умеренность, терпение, благословение. Время найти баланс в жизни. Умеренность и терпение приведут к внутреннему спокойствию. Двигайся вперед постепенно.",
        "reversed": "Дисбаланс, избыток, недостаток. Возможно, в твоей жизни нет баланса. Стремись к равновесию во всех сферах жизни."
    },
    "Дьявол": {
        "name": "Дьявол",
        "upright": "Зависимость, материализм, искушение, суеверие. Возможно, ты привязан к материальному или чувствуешь себя в ловушке. Время осознать свои зависимости и освободиться от них.",
        "reversed": "Освобождение, свобода, контроль над желаниями. Ты осознаешь свои привязанности и готов освободиться от них. Путь к свободе начинается с осознания."
    },
    "Башня": {
        "name": "Башня",
        "upright": "Разрушение, внезапное изменение, откровение, катарсис. Внезапные изменения могут разрушить твои планы. Но это очищение необходимо. Прими разрушение как возможность для нового начала.",
        "reversed": "Избегание катастрофы, внутреннее опустошение, жесткость. Возможно, ты избегаешь необходимых изменений. Будь готов к трансформации и не бойся разрушения старого."
    },
    "Звезда": {
        "name": "Звезда",
        "upright": "Надежда, вера, оптимизм, духовность. После тьмы приходит свет. Время надежды и веры. Твои мечты могут осуществиться. Оставайся позитивным и верь в лучшее.",
        "reversed": "Отчаяние, безнадежность, тревога, разобщенность. Возможно, ты потерял веру или чувствуешь безнадежность. Помни, что свет всегда приходит после тьмы. Верь в лучшее."
    },
    "Луна": {
        "name": "Луна",
        "upright": "Иллюзии, страх, путаница, интуиция. Время неопределенности и иллюзий. Не доверяй только видимости. Прислушайся к интуиции и иди глубже в понимании ситуации.",
        "reversed": "Объясненный страх, преодоленная иллюзия, реалистичное мышление. Ты начинаешь видеть истину сквозь иллюзии. Твоя интуиция ведет тебя к ясности."
    },
    "Солнце": {
        "name": "Солнце",
        "upright": "Радость, успех, позитив, победа. Время радости и успеха! Все идет хорошо, и твои усилия вознаграждаются. Оставайся позитивным и наслаждайся моментом. Счастье и процветание ждут тебя.",
        "reversed": "Переутомление, оптимизм, энтузиазм. Возможно, ты слишком много работаешь или слишком оптимистичен. Найди баланс между активностью и отдыхом."
    },
    "Суд": {
        "name": "Суд",
        "upright": "Суждение, прощение, реабилитация, возрождение. Время принятия важных решений. Прошлые уроки оценены, и путь вперед становится ясным. Прости себя и других, чтобы двигаться вперед.",
        "reversed": "Самоосуждение, вина, отсутствие самоанализа. Возможно, ты слишком строг к себе или чувствуешь вину. Отпусти прошлое и двигайся вперед с легким сердцем."
    },
    "Мир": {
        "name": "Мир",
        "upright": "Завершение, целостность, достижение, исполнение. Путешествие завершено успешно. Все части соединились воедино. Время наслаждаться плодами своих трудов и планировать новые начинания.",
        "reversed": "Незавершенность, застой, дисбаланс. Возможно, что-то еще не завершено, или ты чувствуешь дисбаланс. Найди недостающий элемент и заверши цикл."
    },
    
    # ========== МАСТЬ ЖЕЗЛОВ (Wands) ==========
    "Туз Жезлов": {
        "name": "Туз Жезлов",
        "upright": "Новые идеи, вдохновение, творческий потенциал, новые возможности. Ты получил искру вдохновения! Пришло время начать новый проект или проявить инициативу. Твоя энергия бьет ключом - используй ее для достижения целей.",
        "reversed": "Отсутствие идей, усталость, нет вдохновения, творческий блок. Возможно, ты потерял мотивацию или чувствуешь усталость. Дай себе время для отдыха и восстановления энергии."
    },
    "Двойка Жезлов": {
        "name": "Двойка Жезлов",
        "upright": "Планирование, будущее развитие, отложенное вознаграждение. Ты стоишь на грани больших возможностей. Время планировать и взвешивать варианты. Твои планы реализуются, будь терпелив.",
        "reversed": "Плохое планирование, нет долгосрочного взгляда. Возможно, ты действуешь без плана или не думаешь о будущем. Время структурировать свои действия."
    },
    "Тройка Жезлов": {
        "name": "Тройка Жезлов",
        "upright": "Экспорт, общение, путешествие, исследование. Время расширять горизонты! Новые возможности открываются вдалеке. Путешествие или новый опыт ждут тебя.",
        "reversed": "Отсутствие действия, застой. Возможно, ты слишком пассивен или не используешь открывшиеся возможности. Время действовать!"
    },
    "Четверка Жезлов": {
        "name": "Четверка Жезлов",
        "upright": "Празднование, гармония, счастье, достижение. Время радоваться и праздновать успехи! Твои труды принесли плоды. Наслаждайся моментом гармонии и счастья.",
        "reversed": "Безразличие, отсутствие признания. Возможно, твои достижения не ценятся должным образом. Но не забывай о своих успехах и продолжай путь."
    },
    "Пятерка Жезлов": {
        "name": "Пятерка Жезлов",
        "upright": "Конкуренция, споры, конфликт. Возможны разногласия или соперничество. Важно защищать свои интересы, но делать это конструктивно. Конфликты могут быть продуктивными, если вести их честно.",
        "reversed": "Соперничество, недопонимание. Конфликты затягиваются из-за недопонимания. Постарайся найти компромисс или отойти от спора."
    },
    "Шестерка Жезлов": {
        "name": "Шестерка Жезлов",
        "upright": "Победа, успех, общественное признание. Твои усилия принесли плоды! Окружающие признают твои достижения. Гордись своими успехами и продолжай вперед.",
        "reversed": "Неудача, отсутствие признания, гордость. Возможно, победа не далась легко или не была признана. Не падай духом, продолжай работать."
    },
    "Семерка Жезлов": {
        "name": "Семерка Жезлов",
        "upright": "Вызов, соревнование, защита позиции. Тебе нужно отстаивать свою позицию и защищать свои интересы. Будь готов к конкурентной борьбе, но не отступай.",
        "reversed": "Одиночество, подавленность. Возможно, ты чувствуешь себя одиноким в борьбе. Обратись за поддержкой к тем, кто тебя понимает."
    },
    "Восьмерка Жезлов": {
        "name": "Восьмерка Жезлов",
        "upright": "Быстрые изменения, движение, действие. События развиваются стремительно! Будь готов к быстрым изменениям. Время действовать без промедления.",
        "reversed": "Застой, задержка, медленное развитие. Возможно, дела застряли или продвигаются слишком медленно. Постарайся ускорить процесс."
    },
    "Девятка Жезлов": {
        "name": "Девятка Жезлов",
        "upright": "Устойчивость, вызовы, границы, дисциплина. Ты прошел через многое, но продолжаешь стоять. Твоя стойкость и дисциплина помогут преодолеть последние препятствия.",
        "reversed": "Страдания, боль, усталость. Возможно, ты слишком устал или подавлен. Время отдохнуть и восстановить силы."
    },
    "Десятка Жезлов": {
        "name": "Десятка Жезлов",
        "upright": "Бремя, бремя, ответственность. Ты несёшь слишком много обязанностей. Возможно, пришло время делегировать часть ответственности или пересмотреть приоритеты.",
        "reversed": "Неспособность делегировать, бессилие, перегрузка. Ты перегружен и не можешь справиться. Немедленно сбрось лишнее бремя и попроси помощи."
    },
    
    # Придворные карты Жезлов
    "Паж Жезлов": {
        "name": "Паж Жезлов",
        "upright": "Энтузиазм, энергия, вдохновение. Новая идея или проект зарождается. Ты полон энергии и готов начать. Время действовать с энтузиазмом!",
        "reversed": "Неуверенность, отсутствие веры, энергетический спад. Возможно, ты сомневаешься в своих силах. Верь в себя и двигайся вперед."
    },
    "Рыцарь Жезлов": {
        "name": "Рыцарь Жезлов",
        "upright": "Приключение, смелость, импульсивность, энтузиазм. Ты готов рискнуть и отправиться в новое приключение. Действуй смело, но не забывай думать.",
        "reversed": "Нетерпение, импульсивность. Возможно, ты действуешь слишком поспешно. Замедлись и подумай перед действиями."
    },
    "Королева Жезлов": {
        "name": "Королева Жезлов",
        "upright": "Страсть, уверенность, независимость. Ты силен, уверен в себе и независим. Твоя страсть и энергия вдохновляют других. Будь лидером!",
        "reversed": "Независимость, негибкость. Возможно, ты слишком упрям или не готов к компромиссам. Будь гибче."
    },
    "Король Жезлов": {
        "name": "Король Жезлов",
        "upright": "Лидерство, дальновидность, предпринимательский дух. Ты прирожденный лидер с видением будущего. Веди за собой и вдохновляй других.",
        "reversed": "Тиран, власть, нетерпение. Возможно, ты слишком строг или нетерпелив. Учись быть более терпимым к другим."
    },
    
    # ========== МАСТЬ КУБКОВ (Cups) ==========
    "Туз Кубков": {
        "name": "Туз Кубков",
        "upright": "Новые эмоции, сплочение, романтика, интуиция. Пришло время открыть свое сердце! Новые чувства и эмоциональные возможности открываются перед тобой. Доверься своей интуиции.",
        "reversed": "Пустые эмоции, эмоциональная потеря. Возможно, ты чувствуешь эмоциональную пустоту или разочарование. Время исцелиться."
    },
    "Двойка Кубков": {
        "name": "Двойка Кубков",
        "upright": "Любовь, партнерство, сплочение, единство. Встреча с близким человеком или новое партнерство. Гармония и взаимопонимание в отношениях. Время любви!",
        "reversed": "Дисгармония, разрыв, несбалансированное партнерство. Возможно, в отношениях возникли разногласия. Постарайся найти общий язык."
    },
    "Тройка Кубков": {
        "name": "Тройка Кубков",
        "upright": "Дружба, сообщество, сострадание, празднование. Ты окружен любовью и поддержкой близких. Время дружбы, веселья и совместных празднований. Цени свои отношения!",
        "reversed": "Изоляция, одинокий уход, конфликт в трио. Возможно, ты чувствуешь себя изолированным. Обратись к друзьям."
    },
    "Четверка Кубков": {
        "name": "Четверка Кубков",
        "upright": "Неудовлетворенность, разборчивость, отсутствие связи. Ты ищешь чего-то более глубокого и значимого. Возможно, стоишь на распутье и размышляешь о выборе.",
        "reversed": "Новые возможности, новая любовь. Новые возможности появляются! Не упусти их - они могут быть именно тем, чего ты ищешь."
    },
    "Пятерка Кубков": {
        "name": "Пятерка Кубков",
        "upright": "Страдание, печаль, потери, сожаление. Ты переживаешь потерю или разочарование. Важно горевать, но помни - впереди все еще есть свет и надежда.",
        "reversed": "Переживание страдания, прощение, движение дальше. Ты начинаешь исцеляться от боли. Прости себя и других, чтобы двигаться вперед."
    },
    "Шестерка Кубков": {
        "name": "Шестерка Кубков",
        "upright": "Ностальгия, детство, невинность, детская радость. Время вернуться к простым радостям детства. Восстанови связь с невинностью и радостью внутри тебя.",
        "reversed": "Живя в прошлом, игнорируя настоящее. Возможно, ты слишком застрял в прошлом. Пора обратить внимание на настоящее."
    },
    "Семерка Кубков": {
        "name": "Семерка Кубков",
        "upright": "Иллюзии, выбор, фантазия, подавленность. Перед тобой много возможностей, но не все они реальны. Важно различать реальность и иллюзии.",
        "reversed": "Отсутствие цели. Возможно, ты не можешь определиться с выбором. Время ясно мыслить и делать конкретные шаги."
    },
    "Восьмерка Кубков": {
        "name": "Восьмерка Кубков",
        "upright": "Отказ, изгнание, уход. Ты готов оставить что-то позади ради чего-то лучшего. Это путешествие к более глубокому пониманию и смыслу.",
        "reversed": "Бегство, отказ. Возможно, ты бежишь от проблем вместо того, чтобы их решать. Время столкнуться с реальностью."
    },
    "Девятка Кубков": {
        "name": "Девятка Кубков",
        "upright": "Эмоциональное удовлетворение, удовлетворение, забота о себе. Ты чувствуешь внутреннее удовлетворение и гармонию. Наслаждайся моментом покоя и счастья.",
        "reversed": "Поиск удовольствия. Возможно, ты ищешь внешнего подтверждения счастья. Найди его внутри себя."
    },
    "Десятка Кубков": {
        "name": "Десятка Кубков",
        "upright": "Счастье, любовь, общество, радость. Глубокое счастье и гармония в отношениях. Твоя жизнь наполнена любовью и радостью. Наслаждайся этим периодом!",
        "reversed": "Дисгармония в доме, разрыв. Возможно, в отношениях или семье возникли проблемы. Постарайся восстановить гармонию."
    },
    
    # Придворные карты Кубков
    "Паж Кубков": {
        "name": "Паж Кубков",
        "upright": "Новое творческое вдохновение, интуиция, любопытство. Новые творческие идеи или эмоциональные открытия. Доверься своей интуиции.",
        "reversed": "Эмоциональная нестабильность. Возможно, ты слишком эмоционален. Соберись и подумай разумом."
    },
    "Рыцарь Кубков": {
        "name": "Рыцарь Кубков",
        "upright": "Романтика, чувствительность, очарование. Ты полон романтики и эмоциональной глубины. Время для чувственных переживаний и близости.",
        "reversed": "Подавленность, эмоциональная манипуляция. Возможно, ты слишком зависим от эмоций других. Обрети эмоциональную независимость."
    },
    "Королева Кубков": {
        "name": "Королева Кубков",
        "upright": "Сострадание, забота, эмоциональный баланс. Ты эмоционально зрел и полон сострадания. Твоя интуиция и забота о других - твои сильные стороны.",
        "reversed": "Эмоциональная зависимость, капризность. Возможно, ты слишком зависит от эмоций других. Найди баланс."
    },
    "Король Кубков": {
        "name": "Король Кубков",
        "upright": "Сострадание, контроль, баланс. Ты эмоционально зрел и мудр. Сострадание и контроль над чувствами - твои качества.",
        "reversed": "Эмоциональная манипуляция. Возможно, ты используешь эмоции для контроля. Будь честен."
    },
    
    # ========== МАСТЬ МЕЧЕЙ (Swords) ==========
    "Туз Мечей": {
        "name": "Туз Мечей",
        "upright": "Новые идеи, ясность, истина, актуальность. Новые идеи и ясное мышление. Ты видишь ситуацию четко и объективно. Правда открывается перед тобой.",
        "reversed": "Конфликты, разъединение, злоупотребление силой. Возможно, есть конфликт или недопонимание. Ищи мирное решение."
    },
    "Двойка Мечей": {
        "name": "Двойка Мечей",
        "upright": "Выбор, отсутствие центра, компромисс. Ты стоишь перед выбором и не можешь определиться. Время взвесить все варианты и найти баланс.",
        "reversed": "Трудное решение, баланс. Возможно, решение кажется слишком сложным. Подойди к нему с ясностью и решительностью."
    },
    "Тройка Мечей": {
        "name": "Тройка Мечей",
        "upright": "Сердечная боль, беспокойство, печаль, разлука. Ты переживаешь эмоциональную боль или разочарование. Позволь себе горевать, но помни - боль пройдет.",
        "reversed": "Восстановление, примирение. Ты начинаешь исцеляться от боли. Мир возвращается в твою жизнь."
    },
    "Четверка Мечей": {
        "name": "Четверка Мечей",
        "upright": "Отдых, спокойствие, медитация, созерцание. Время для отдыха и восстановления. Сделай паузу, помедитируй, восстанови силы. Ты заслуживаешь покоя.",
        "reversed": "Беспокойство, исчерпание. Возможно, ты не можешь отдохнуть или слишком устал. Принуди себя к отдыху."
    },
    "Пятерка Мечей": {
        "name": "Пятерка Мечей",
        "upright": "Поражение, конфликт, превосходство. Возможно, был конфликт или поражение. Учись проигрывать с достоинством и извлекать уроки.",
        "reversed": "Обратиться к врагам. Возможно, стоит прекратить конфликты и искать примирение."
    },
    "Шестерка Мечей": {
        "name": "Шестерка Мечей",
        "upright": "Переход, отъезд, оставить позади. Ты переходишь от трудной ситуации к лучшему. Путешествие к спокойствию и новым возможностям начинается.",
        "reversed": "Невозможность отойти. Возможно, ты застрял и не можешь двигаться вперед. Постарайся найти путь."
    },
    "Семерка Мечей": {
        "name": "Семерка Мечей",
        "upright": "Обман, ложь, мошенничество, стратегия. Будь осторожен с обманом - своего или других. Честность - лучшая стратегия.",
        "reversed": "Сомнения, неуверенность в себе. Возможно, ты сомневаешься в себе. Верь в себя и будь честен."
    },
    "Восьмерка Мечей": {
        "name": "Восьмерка Мечей",
        "upright": "Самоограничение, плен, жертва. Ты чувствуешь себя в ловушке, но на самом деле твои ограничения в голове. Освободись от самоограничений.",
        "reversed": "Освобождение, принятие нового подхода. Ты начинаешь осознавать свои ограничения и способен их преодолеть."
    },
    "Девятка Мечей": {
        "name": "Девятка Мечей",
        "upright": "Беспокойство, кошмары, страхи. Твои страхи и беспокойство мешают покою. Помни - большинство страхов только в твоем воображении.",
        "reversed": "Обращаться за помощью, надеяться. Возможно, пора обратиться за помощью к кому-то, кто может поддержать тебя."
    },
    "Десятка Мечей": {
        "name": "Десятка Мечей",
        "upright": "Предательство, смерть конца, боль. Конец эпохи - больно, но неизбежно. После конца всегда приходит новое начало.",
        "reversed": "Восстановление, возрождение. Ты начинаешь восстанавливаться после болезненного конца. Новое начало близко."
    },
    
    # Придворные карты Мечей
    "Паж Мечей": {
        "name": "Паж Мечей",
        "upright": "Любопытство, новые идеи, коммуникация. Новые идеи и информация открываются перед тобой. Будь любознателен и открыт новому.",
        "reversed": "Нет новых идеи, существование двусмысленности. Возможно, ты не видишь новых возможностей. Открой глаза на новое."
    },
    "Рыцарь Мечей": {
        "name": "Рыцарь Мечей",
        "upright": "Принципы, разборчивость, прямота. Ты действуешь с принципиальностью и честностью. Не бойся быть прямым и честным.",
        "reversed": "Безрассудство, импульсивность. Возможно, ты слишком поспешен. Замедлись и подумай."
    },
    "Королева Мечей": {
        "name": "Королева Мечей",
        "upright": "Честность, ясность мышления, объективность. Ты видишь ситуацию четко и объективно. Твоя мудрость и честность - твои сильные стороны.",
        "reversed": "Горечь, гнев, бесчувственность. Возможно, ты слишком жестока или бесчувственна. Открой свое сердце."
    },
    "Король Мечей": {
        "name": "Король Мечей",
        "upright": "Честность, правда, моральное превосходство. Ты судишь справедливо и честно. Твоя мудрость и объективность помогают принимать правильные решения.",
        "reversed": "Тираничность, жестокость, недобросовестность. Возможно, ты слишком жесток или несправедлив. Будь более терпелив и добр."
    },
    
    # ========== МАСТЬ ПЕНТАКЛЕЙ (Pentacles) ==========
    "Туз Пентаклей": {
        "name": "Туз Пентаклей",
        "upright": "Новое начало, возможность, богатство. Новая финансовая или материальная возможность открывается перед тобой. Время проявления и процветания.",
        "reversed": "Бесплодная возможность, потеря. Возможно, ты упускаешь возможности или они не реализуются. Будь внимателен."
    },
    "Двойка Пентаклей": {
        "name": "Двойка Пентаклей",
        "upright": "Баланс, приоритеты, адаптация. Ты жонглируешь несколькими делами одновременно. Найди баланс и приоритеты.",
        "reversed": "Дисбаланс, потеря баланса. Возможно, ты теряешь контроль над ситуацией. Время пересмотреть приоритеты."
    },
    "Тройка Пентаклей": {
        "name": "Тройка Пентаклей",
        "upright": "Работа в команде, сотрудничество, квалификация. Работа в команде приносит результаты. Сотрудничество и обмен опытом - ключ к успеху.",
        "reversed": "Нерабочая группа, конфликт. Возможно, в команде есть конфликты. Постарайся найти общий язык."
    },
    "Четверка Пентаклей": {
        "name": "Четверка Пентаклей",
        "upright": "Контроль, материальная безопасность, контроль над деньгами. Ты контролируешь свои ресурсы, но возможно слишком. Расслабься и поделись.",
        "reversed": "Скупость, зависимость. Возможно, ты слишком привязан к материальному. Найди баланс."
    },
    "Пятерка Пентаклей": {
        "name": "Пятерка Пентаклей",
        "upright": "Беспокойство, неудача, проблемы с деньгами. Ты переживаешь материальные трудности. Но помни - это временно, и помощь близка.",
        "reversed": "Восстановление после болезни. Ты начинаешь восстанавливаться после трудностей. Лучшие времена близки."
    },
    "Шестерка Пентаклей": {
        "name": "Шестерка Пентаклей",
        "upright": "Поддержка, совместное использование, финансовое равновесие. Ты делишься своими ресурсами или получаешь поддержку. Баланс между даванием и получением.",
        "reversed": "Саботаж, злоупотребление. Возможно, злоупотребление ресурсами или поддержкой. Будь честен."
    },
    "Семерка Пентаклей": {
        "name": "Семерка Пентаклей",
        "upright": "Труд, проекты, карьера, проницательность. Твоя тяжелая работа начинает приносить плоды. Продолжай свой путь - успех близок.",
        "reversed": "Плохое управление, рабочая группа. Возможно, нужно пересмотреть стратегию работы. Ищи новые подходы."
    },
    "Восьмерка Пентаклей": {
        "name": "Восьмерка Пентаклей",
        "upright": "Мастерство, качество, совершенствование. Ты работаешь над совершенствованием своего мастерства. Качество твоей работы растет.",
        "reversed": "Саботаж самому себе, неразвитость. Возможно, ты саботируешь свой успех. Верь в себя."
    },
    "Девятка Пентаклей": {
        "name": "Девятка Пентаклей",
        "upright": "Достижение, удовлетворение, накопленное богатство. Ты достиг материального благополучия. Наслаждайся плодами своего труда.",
        "reversed": "Саботаж самому себе, потеря изобилия. Возможно, ты не ценишь свои достижения. Учись ценить."
    },
    "Десятка Пентаклей": {
        "name": "Десятка Пентаклей",
        "upright": "Семья, богатство, изобилие, дом. Благополучие и процветание в семье. Время наслаждаться изобилием и делиться им с близкими.",
        "reversed": "Разрыв семейных связей, финансовые проблемы. Возможно, в семье или финансах есть проблемы. Постарайся восстановить гармонию."
    },
    
    # Придворные карты Пентаклей
    "Паж Пентаклей": {
        "name": "Паж Пентаклей",
        "upright": "Новое начало, новые возможности, новый потенциал. Новые возможности в карьере или финансах открываются. Будь открыт новому.",
        "reversed": "Пассивность, отсутствие развития. Возможно, ты не используешь открывающиеся возможности. Действуй!"
    },
    "Рыцарь Пентаклей": {
        "name": "Рыцарь Пентаклей",
        "upright": "Упорство, охота за целью. Ты настойчив в достижении своих целей. Продолжай двигаться вперед с упорством.",
        "reversed": "Безрассудство, лень. Возможно, ты слишком импульсивен или ленив. Найди баланс."
    },
    "Королева Пентаклей": {
        "name": "Королева Пентаклей",
        "upright": "Безопасность, комфорт, финансовая безопасность. Ты в безопасности и финансовом комфорте. Твоя забота и щедрость проявляются.",
        "reversed": "Небезопасность, зависть. Возможно, ты беспокоишься о безопасности или испытываешь зависть. Обуздай эти чувства."
    },
    "Король Пентаклей": {
        "name": "Король Пентаклей",
        "upright": "Безопасность, практичность, контроль, финансовое обеспечение. Ты контролируешь свои ресурсы мудро. Процветание и стабильность в твоей власти.",
        "reversed": "Непрактичность, финансовая небрежность. Возможно, ты не практичен или небрежен с деньгами. Будь более внимателен."
    }
}


def get_daily_card(user_id: int = None, seed: str = None) -> Tuple[Dict, bool]:
    """
    Получить карту дня для конкретного пользователя
    Каждый пользователь получает одну и ту же карту в течение дня
    
    Args:
        user_id: ID пользователя для генерации уникальной карты
        seed: Необязательная строка для генерации (по умолчанию используется дата)
    
    Returns:
        (карта, перевернута_ли)
    """
    import hashlib
    from datetime import datetime
    
    # Генерируем seed на основе даты и user_id для уникальности карты
    today = datetime.now().strftime('%Y-%m-%d')
    
    if user_id:
        seed_string = f"{today}_{user_id}"
    elif seed:
        seed_string = f"{today}_{seed}"
    else:
        seed_string = today
    
    # Создаем детерминированный RNG на основе seed
    hash_obj = hashlib.md5(seed_string.encode())
    random_seed = int(hash_obj.hexdigest(), 16)
    local_random = random.Random(random_seed)
    
    # Выбираем карту детерминированно
    card_name = local_random.choice(list(TAROT_CARDS.keys()))
    card = TAROT_CARDS[card_name]
    
    # 30% шанс перевернутой карты
    is_reversed = local_random.random() < 0.3
    
    return card, is_reversed


def get_three_card_reading() -> List[Tuple[Dict, bool]]:
    """
    Получить расклад на 3 карты
    Возвращает список из (карта, перевернута_ли)
    """
    cards = []
    
    # Выбираем 3 случайные карты
    selected_cards = random.sample(list(TAROT_CARDS.keys()), 3)
    
    for card_name in selected_cards:
        card = TAROT_CARDS[card_name]
        is_reversed = random.random() < 0.3  # 30% шанс перевернутой карты
        cards.append((card, is_reversed))
    
    return cards

